{"version":3,"sources":["config/apiURL.js","pages/Login.js","pages/AddArticle.js","pages/ArticleList.js","pages/AdminIndex.js","pages/main.js","index.js"],"names":["ip","servicePath","checkLogin","getTypeInfo","addArticle","changeArticle","getArticleList","delArticle","getArticleById","Login","props","useState","userName","setUserName","password","setPassword","isLoading","setIsLoading","className","tip","spinning","title","bordered","style","width","id","size","placeholder","prefix","type","onChange","e","target","value","Password","block","onClick","message","error","setTimeout","dataProps","axios","method","url","data","withCredentials","then","res","console","log","localStorage","setItem","openId","history","push","Option","Select","TextArea","Input","renderer","marked","Renderer","setOptions","gfm","pedantic","sanitize","tables","breaks","smartLists","smartypants","highlight","code","hljs","highlightAuto","AddArticle","articleId","setArticleId","articleTitle","setArticleTitle","articleContent","setArticleContent","markdownContent","setMarkdownContent","introducemd","setIntroducemd","introducehtml","setIntroducehtml","showDate","setShowDate","typeInfo","setTypeInfo","selectedType","setSelectType","ChangeContent","html","ChangeIntroduce","useEffect","removeItem","tmpId","match","params","articleInfo","content","introduce","addTime","typeId","gutter","span","map","item","index","key","typeName","rows","onPressEnter","dangerouslySetInnerHTML","__html","saveProps","Date","replace","getTime","view","insertId","isSuccess","success","date","dateString","confirm","Modal","ArticleList","list","setList","getList","header","dataSource","renderItem","Item","part_count","onOk","onCancel","Content","Layout","Header","Footer","Sider","SubMenu","Menu","AdminIndex","collapsed","setCollapsed","minHeight","collapsible","onCollapse","theme","defaultSelectedKeys","mode","margin","path","exact","component","textAlign","Main","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1795c04d.chunk.js","sourcesContent":["let ip='http://175.24.15.197:7001/admin'\r\nlet servicePath={\r\n    checkLogin:ip+'/checkLogin',\r\n    getTypeInfo:ip+'/getTypeInfo',\r\n    addArticle:ip+'/addArticle',\r\n    changeArticle:ip+'/changeArticle',\r\n    getArticleList:ip+'/getArticleList',\r\n    delArticle:ip+'/delArticle/',\r\n    getArticleById:ip+'/getArticleById/'\r\n\r\n    \r\n}\r\n;\r\nexport default servicePath;","import React,{useState, useEffect} from 'react';\r\nimport {Input,Button,Card,Spin,Icon,message,Select} from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport '../static/login.css';\r\nimport axios from 'axios';\r\nimport servicePath from '../config/apiURL.js'\r\n\r\n function Login (props){\r\n     const [userName,setUserName]=useState('');\r\n     const [password,setPassword]=useState('');\r\n     const [isLoading,setIsLoading]=useState(false);\r\n     \r\n     \r\n     const checkLogin = ()=>{\r\n        setIsLoading(true)\r\n        if(!userName){\r\n            message.error('用户名不能为空')\r\n            setTimeout(setIsLoading(false),500)\r\n            return(false)\r\n        }else if(!password){\r\n            message.error('密码不能为空')\r\n            setTimeout(setIsLoading(false),500)\r\n            return(false)}\r\n        let dataProps={\r\n            'userName':userName,\r\n            'password':password\r\n        }\r\n        axios({\r\n            method:'post',\r\n            url:servicePath.checkLogin,\r\n            data:dataProps,\r\n            withCredentials:true\r\n         }).then((res)=>{\r\n             console.log(res.data)\r\n             setIsLoading(false)\r\n             if(res.data.data=='登录成功'){\r\n                 localStorage.setItem('openId',res.data.openId)\r\n                 props.history.push('/index')\r\n             }else if(res.data.data=='登录失败'){\r\n                 message.error('用户名或密码错误')\r\n             }\r\n         })\r\n        }\r\n\r\n    \r\n\r\n\r\n     return(\r\n        <div className=\"login-div\">\r\n            <Spin tip='Loading...' spinning={isLoading}>\r\n            <Card title=\"Welcome to Lxj's blog\" bordered={true} style={{width:400}}>\r\n            \r\n            <Input id='userName' size='large' placeholder='enter your username' prefix={<Icon type='user' className='prefix_icon'/>} onChange={(e)=>{setUserName(e.target.value)}} />\r\n            <br/><br/>\r\n            <Input.Password id='password' size='large' placeholder='enter your password' prefix={<Icon type='key' className='prefix_icon'/>} onChange={(e)=>{setPassword(e.target.value)}} />\r\n            <br/><br/>\r\n            <Button className='login-button' type='primary' size='large' block onClick={checkLogin}>login</Button>\r\n            </Card>\r\n            </Spin>\r\n\r\n        </div>\r\n     )\r\n }\r\n export default Login","import React,{useState,useEffect} from 'react';\r\nimport marked from 'marked'\r\nimport '../static/AddArticle.css'\r\nimport { Row, Col ,Input, Select ,Button ,DatePicker, message } from 'antd'\r\nimport axios from 'axios'\r\nimport servicePath from '../config/apiURL'\r\nimport hljs from \"highlight.js\";\r\nimport 'highlight.js/styles/monokai-sublime.css';\r\n\r\nconst { Option } = Select\r\nconst { TextArea } = Input\r\nconst renderer = new marked.Renderer();\r\n\r\nmarked.setOptions({\r\n    renderer: renderer, \r\n    gfm: true,\r\n    pedantic: false,\r\n    sanitize: false,\r\n    tables: true,\r\n    breaks: false,\r\n    smartLists: true,\r\n    smartypants: false,\r\n    highlight: function (code) {\r\n            return hljs.highlightAuto(code).value;\r\n    }\r\n  }); \r\n\r\nfunction AddArticle(props){\r\nconst [articleId,setArticleId] = useState('0')  // 文章的ID，如果是0说明是新增加，如果不是0，说明是修改\r\nconst [articleTitle,setArticleTitle] = useState('')   //文章标题\r\nconst [articleContent , setArticleContent] = useState('')  //markdown的编辑内容\r\nconst [markdownContent, setMarkdownContent] = useState('预览内容') //html内容\r\nconst [introducemd,setIntroducemd] = useState()            //简介的markdown内容\r\nconst [introducehtml,setIntroducehtml] = useState('等待编辑') //简介的html内容\r\nconst [showDate,setShowDate] = useState()   //发布日期\r\nconst [updateDate,setUpdateDate] = useState('') //修改日志的日期\r\nconst [typeInfo ,setTypeInfo] = useState([]) // 文章类别信息\r\nconst [selectedType,setSelectType] = useState('请选择类别') //选择的文章类别\r\n\r\nconst getTypeInfo=()=>{\r\n         axios({\r\n             method:'get',\r\n             url:servicePath.getTypeInfo,\r\n             withCredentials: true\r\n\r\n         }).then((res)=>{\r\n             if(res.data.data=='没有登陆'){\r\n                 localStorage.removeItem('openId')\r\n                 props.history.push('/')\r\n                 console.log('fail')\r\n             }else{\r\n                 setTypeInfo(res.data.data)\r\n                 console.log(typeInfo)\r\n             }\r\n\r\n         })\r\n     }\r\nconst getArticleById=(id)=>{\r\n        axios(servicePath.getArticleById+id,{withCredentials:true}).then((res)=>{\r\n            const articleInfo=res.data.data[0]\r\n            setArticleId(articleInfo.id)\r\n            setArticleTitle(articleInfo.title)\r\n            setArticleContent(articleInfo.content)\r\n            setMarkdownContent(marked(articleInfo.content))\r\n            setIntroducemd(articleInfo.introduce)\r\n            setIntroducehtml(marked(articleInfo.introduce))\r\n            setShowDate(articleInfo.addTime)\r\n            setSelectType(articleInfo.typeId)\r\n\r\n        })\r\n    }\r\n\r\n\r\n\r\nconst ChangeContent=(e)=>{\r\n    setArticleContent(e.target.value)\r\n    let html = marked(e.target.value)\r\n    setMarkdownContent(html)    \r\n}\r\nconst ChangeIntroduce=(e)=>{\r\n    setIntroducemd(e.target.value)\r\n    let html = marked(e.target.value)\r\n    setIntroducehtml(html)\r\n}\r\nconst HandelTypeChange=(value)=>{\r\n    setSelectType(value)\r\n}\r\nconst SaveArtical=()=>{\r\n    if(!selectedType){message.error('请选择文章类型'); return false}\r\n    else if(!articleContent){message.error('内容不能为空');return false}\r\n    else if(!introducemd){message.error('简介不能为空');return false}\r\n    else if(!showDate){message.error('发布日期不能为空');return false}\r\n    let saveProps={}\r\n    saveProps.title=articleTitle\r\n    saveProps.content=articleContent\r\n    saveProps.introduce=introducemd\r\n    saveProps.addTime=new Date(showDate.replace('-','/')).getTime()\r\n    if(articleId==0){\r\n        console.log('articleId= '+articleId)\r\n        saveProps.view = 0\r\n        axios(\r\n            {\r\n                method:'post',\r\n                url:servicePath.addArticle,\r\n                data:saveProps,\r\n                withCredentials:true\r\n            }\r\n        ).then((res)=>{\r\n            setArticleId(res.data.insertId)\r\n            if(res.data.isSuccess){message.success('添加成功')}\r\n            else{message.error('添加失败')}\r\n        })\r\n    }else{\r\n        saveProps.id=articleId\r\n        axios(\r\n            {\r\n                method:'post',\r\n                url:servicePath.changeArticle,\r\n                data:saveProps,\r\n                withCredentials:true\r\n            }\r\n        ).then((res)=>{\r\n            \r\n            if(res.data.isSuccess){message.success('保存成功')}\r\n            else{message.error('保存失败')}\r\n        })\r\n    }\r\n    }\r\n useEffect(()=>{\r\n    getTypeInfo()\r\n    const tmpId=props.match.params.id\r\n    if(tmpId){\r\n        setArticleId(tmpId)\r\n        getArticleById(tmpId)}\r\n    },[])\r\n\r\n    return(\r\n        <div>\r\n        <Row gutter={5}>\r\n            <Col span={18}>\r\n           <Row gutter={10}>\r\n               <Col span={20}>\r\n               <Input \r\n               placeholder='博客标题' \r\n               size='large' \r\n               value={articleTitle} \r\n               onChange={e=>{setArticleTitle(e.target.value)}}\r\n               />\r\n               </Col>\r\n               <Col span={4}>\r\n                   &nbsp;\r\n                <Select value={selectedType} size=\"large\" onChange={HandelTypeChange}>\r\n                {\r\n                    typeInfo.map((item,index)=>{\r\n                        return (<Option key={index} value={item.id}>{item.typeName}</Option>)\r\n                    })\r\n                 }\r\n                </Select>\r\n                   \r\n               \r\n               </Col>\r\n           </Row>\r\n           <br/>\r\n           <Row>\r\n               <Col span={12}>\r\n                   <TextArea className=\"markdown-content\" \r\n                        rows={35} \r\n                        value={articleContent} \r\n                        \r\n                        onChange={ChangeContent}\r\n                        onPressEnter={ChangeContent}/>\r\n               </Col>\r\n               <Col span={12}>\r\n                   <div className=\"show-html\" dangerouslySetInnerHTML={{__html:markdownContent}}></div>\r\n               </Col>\r\n           </Row>\r\n           </Col>\r\n            <Col span={6}>\r\n            <Row>\r\n                <Col span={24}>\r\n                    <Button>保存文章</Button>&nbsp;&nbsp;\r\n                    <Button type='primary' onClick={SaveArtical}>发布文章</Button>\r\n                    <br/><br/>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col ><br/>\r\n                <TextArea \r\n                        rows={4}  \r\n                        placeholder=\"文章简介\" \r\n                        value={introducehtml}\r\n                        onChange={ChangeIntroduce}\r\n                        onPressEnter={ChangeIntroduce}/><br/><br/>\r\n                    \r\n                    <div className='introduce-html' dangerouslySetInnerHTML={{__html:introducehtml}}></div><br/>\r\n                </Col>\r\n                <Col >\r\n                <div className='date-select'>\r\n                    <DatePicker\r\n                    \r\n                    onChange={(date,dateString)=>{setShowDate(dateString)}}\r\n                    placeholder='发布日期'/>\r\n                </div>\r\n                </Col>\r\n            </Row>\r\n            </Col>\r\n        </Row>\r\n        </div>\r\n    )\r\n}\r\nexport default AddArticle;","import React,{useState,useEffect} from 'react'\r\nimport { List ,Row ,Col , Modal ,message ,Button,Switch} from 'antd';\r\nimport axios from 'axios'\r\nimport  servicePath  from '../config/apiURL'\r\nimport AddArticle from './AddArticle';\r\nconst { confirm } = Modal;\r\nfunction  ArticleList(props) {\r\n    const[list,setList]=useState([])\r\n    const getList=()=>{\r\n        axios({\r\n            method:'get',\r\n            url:servicePath.getArticleList,\r\n            withCredentials:true\r\n        }).then((res)=>{setList(res.data.list)})\r\n    }\r\n    const delArticle=(id)=>{\r\n        confirm({\r\n            title:'确定要删除吗',\r\n            content:'点击OK将永久删除博客',\r\n            onOk(){axios(servicePath.delArticle+id,{withCredentials:true}).then((res)=>{message.success('删除成功'); getList()})},\r\n            onCancel(){message.success('已取消删除')}\r\n        })\r\n        \r\n\r\n    }\r\n    const updateArticle=(id)=>{\r\n        props.history.push('/index/add/'+id)\r\n    }\r\n    useEffect(()=>{getList()},[])\r\n    return(\r\n        <div>\r\n            <List\r\n            header={\r\n                <Row>\r\n                    <Col span={8}><b>标题</b></Col>\r\n                    <Col span={3}><b>类别</b></Col>\r\n                    <Col span={3}><b>发布时间</b></Col>\r\n                    <Col span={3}><b>集数</b></Col>\r\n                    <Col span={3}><b>浏览量</b></Col>\r\n                    <Col span={4}><b>操作</b></Col>\r\n\r\n                </Row>           \r\n            }\r\n            bordered\r\n            dataSource={list}\r\n            renderItem={(item)=>(\r\n                <List.Item>\r\n                    <Col span={8}>{item.title}</Col>\r\n                    <Col span={3}>{item.typeName}</Col>\r\n                    <Col span={3}>{item.addTime}</Col>\r\n                    <Col span={3}>{item.part_count}</Col>\r\n                    <Col span={3}>{item.view}</Col>\r\n                    <Col span={4}>\r\n                    <Button type='primary' onClick={()=>{updateArticle(item.id)}}>修改</Button> &nbsp;\r\n                    <Button onClick={()=>delArticle(item.id)}>删除</Button>\r\n                    </Col>\r\n                </List.Item>\r\n            )}\r\n            />\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default ArticleList","import React,{useState} from 'react';\r\nimport {Route} from 'react-router-dom'\r\nimport { Layout, Menu, Breadcrumb, Icon } from 'antd';\r\nimport '../static/AdminIndex.css'\r\nimport AddArticle from './AddArticle'\r\nimport ArticleList from './ArticleList';\r\n\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\n\r\nfunction AdminIndex(props){\r\n\r\n  const [collapsed,setCollapsed] = useState(false)\r\n\r\n  const onCollapse = collapsed => {\r\n    setCollapsed(collapsed)\r\n  };\r\n  const handleClickArticle=(e)=>{\r\n    if(e.key=='addArticle'){props.history.push('/index/add')}\r\n    else{props.history.push('/index/list')}\r\n\r\n  }\r\n\r\n    return (\r\n      <Layout style={{ minHeight: '100vh' }}>\r\n        <Sider  collapsible collapsed={collapsed} onCollapse={onCollapse}>\r\n          <div className=\"logo\" />\r\n          <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\r\n            <Menu.Item key=\"1\">\r\n              <Icon type=\"pie-chart\" />\r\n              <span>工作台</span>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"2\">\r\n              <Icon type=\"desktop\" />\r\n              <span>添加文章</span>\r\n            </Menu.Item>\r\n           \r\n            <SubMenu\r\n              key=\"sub1\"\r\n              onClick={handleClickArticle}\r\n              title={\r\n                <span>\r\n                  <Icon type=\"user\" />\r\n                  <span>文章管理</span>\r\n                </span>\r\n              }\r\n            >\r\n              <Menu.Item key=\"addArticle\">添加文章</Menu.Item>\r\n              <Menu.Item key=\"ArticleList\">文章列表</Menu.Item>\r\n\r\n            </SubMenu>\r\n\r\n            <Menu.Item key=\"9\">\r\n              <Icon type=\"file\" />\r\n              <span>留言管理</span>\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Sider>\r\n        <Layout>\r\n         \r\n          <Content style={{ margin: '0 16px' }}>\r\n            <Breadcrumb style={{ margin: '16px 0' }}>\r\n              <Breadcrumb.Item>后台管理</Breadcrumb.Item>\r\n              <Breadcrumb.Item>工作台</Breadcrumb.Item>\r\n            </Breadcrumb>\r\n\r\n            <div>\r\n            <Route path='/index/' exact component={AddArticle}/>\r\n            <Route path='/index/add/' exact component={AddArticle}/>\r\n            <Route path='/index/add/:id' exact component={AddArticle}/>\r\n            <Route path='/index/list/' exact component={ArticleList}/>\r\n            </div>\r\n          </Content>\r\n          <Footer style={{ textAlign: 'center' }}>Lxj.com</Footer>\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n\r\n}\r\n\r\nexport default AdminIndex","import React from 'react';\r\nimport {BrowserRouter as Router,Route} from 'react-router-dom';\r\nimport Login from './Login';\r\nimport AdminIndex from './AdminIndex'\r\n\r\nfunction  Main() {\r\n    return(\r\n        <Router>\r\n            <Route path='/' exact component={Login} />\r\n            <Route path='/index/' component={AdminIndex} />\r\n        </Router>\r\n    )\r\n    \r\n}\r\nexport default Main;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Main from './pages/main'\r\n\r\n\r\nReactDOM.render(\r\n  <Main />,document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n\r\n"],"sourceRoot":""}